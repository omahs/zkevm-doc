
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A description of the Padding-KK-Bit State Machine.">
      
      
      
        <link rel="canonical" href="https://docs.hermez.io/zkEVM/zkProver/State-Machines/Secondary-State-Machines/Hashing/04-Padding-KK-Bit-SM/">
      
      
        <link rel="prev" href="../03-Padding-KK-SM/">
      
      
        <link rel="next" href="../05-Bits2Field-SM/">
      
      <link rel="icon" href="../../../../../../favicon.ico">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.11">
    
    
      
        <title>Padding-KK-bit State Machine - Polygon zkEVM Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../../../../assets/stylesheets/main.0d440cfe.min.css">
      
        
        <link rel="stylesheet" href="../../../../../../assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#padding-kk-bit-state-machine" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../../../.." title="Polygon zkEVM Documentation" class="md-header__button md-logo" aria-label="Polygon zkEVM Documentation" data-md-component="logo">
      
  <img src="../../../../../../logo-white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Polygon zkEVM Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Padding-KK-bit State Machine
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/hermeznetwork/zkevmdoc" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../Overview/Overview/" class="md-tabs__link md-tabs__link--active">
        Polygon zkEVM
      </a>
    </li>
  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../../Hermez_1.0/about/scalability/" class="md-tabs__link">
        Hermez 1.0
      </a>
    </li>
  

  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../../.." title="Polygon zkEVM Documentation" class="md-nav__button md-logo" aria-label="Polygon zkEVM Documentation" data-md-component="logo">
      
  <img src="../../../../../../logo-white.svg" alt="logo">

    </a>
    Polygon zkEVM Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/hermeznetwork/zkevmdoc" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
      
      
      
        <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
          Polygon zkEVM
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Polygon zkEVM
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../Overview/Overview/" class="md-nav__link">
        zkEVM Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_2" >
      
      
      
        <label class="md-nav__link" for="__nav_1_2" id="__nav_1_2_label" tabindex="0">
          Basic Concepts
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_1_2">
          <span class="md-nav__icon md-icon"></span>
          Basic Concepts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../Basic-Concepts/Intro-zkProver%27s-Design-Approach/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../Basic-Concepts/mFibonnaci-State-Machine-eg/" class="md-nav__link">
        Multiplicative Fibonacci SM
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../Basic-Concepts/A-Generic-State-Machine/" class="md-nav__link">
        A Generic State Machine
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_1_3" id="__nav_1_3_label" tabindex="0">
          zkProver
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_1_3">
          <span class="md-nav__icon md-icon"></span>
          zkProver
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Overview/zkProver-Overview/" class="md-nav__link">
        zkProver Overview
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_3_2" checked>
      
      
      
        <label class="md-nav__link" for="__nav_1_3_2" id="__nav_1_3_2_label" tabindex="0">
          States Machines
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_1_3_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_1_3_2">
          <span class="md-nav__icon md-icon"></span>
          States Machines
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Overview/zkProver-State-Machines/" class="md-nav__link">
        State Machines Overview
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_3_2_2" checked>
      
      
      
        <label class="md-nav__link" for="__nav_1_3_2_2" id="__nav_1_3_2_2_label" tabindex="0">
          Secondary State Machines
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_1_3_2_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_1_3_2_2">
          <span class="md-nav__icon md-icon"></span>
          Secondary State Machines
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Arithmetic/Arithmetic/" class="md-nav__link">
        Arithmetic
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Storage/Storage/" class="md-nav__link">
        Storage
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_3_2_2_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_1_3_2_2_3" id="__nav_1_3_2_2_3_label" tabindex="0">
          Hashing
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_1_3_2_2_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_1_3_2_2_3">
          <span class="md-nav__icon md-icon"></span>
          Hashing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../01-Intro-SMs-for-Hashing/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../02-Keccak-Framework/" class="md-nav__link">
        Keccak Framework
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../03-Padding-KK-SM/" class="md-nav__link">
        Padding-KK
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Padding-KK-Bit
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Padding-KK-Bit
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#design-strategies" class="md-nav__link">
    Design strategies
  </a>
  
    <nav class="md-nav" aria-label="Design strategies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bytes-to-bits-correspondence" class="md-nav__link">
    Bytes To Bits Correspondence
  </a>
  
    <nav class="md-nav" aria-label="Bytes To Bits Correspondence">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-1-represention-of-two-bytes" class="md-nav__link">
    Example 1. (Represention of Two Bytes)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validating-transitions-of-bits" class="md-nav__link">
    Validating Transitions Of Bits
  </a>
  
    <nav class="md-nav" aria-label="Validating Transitions Of Bits">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#constraints-for-bit-transitions" class="md-nav__link">
    Constraints For Bit Transitions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#capacity-connection-in-the-512-rows" class="md-nav__link">
    Capacity Connection In The \(512\)-Rows
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-output-calculations-in-the-256-1-rows" class="md-nav__link">
    The Output Calculations In The \((256 + 1)\)-Rows
  </a>
  
    <nav class="md-nav" aria-label="The Output Calculations In The \((256 + 1)\)-Rows">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-2-storing-256-bit-intermediate-hash-outputs" class="md-nav__link">
    Example 2. (Storing 256-bit intermediate hash outputs)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#padding-kk-sm-and-padding-kk-bit-sm-connection" class="md-nav__link">
    Padding-KK SM and Padding-KK-Bit SM Connection
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../05-Bits2Field-SM/" class="md-nav__link">
        Bits2Field
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../06-KECCAK-f-sm/" class="md-nav__link">
        Keccak-f
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../07-Poseidon-sm/" class="md-nav__link">
        Poseidon
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Binary/Binary/" class="md-nav__link">
        Binary
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Memory/Memory/" class="md-nav__link">
        Memory
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Memory-Align/Memory-Align/" class="md-nav__link">
        Memory Align
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Complementary/Complementary/" class="md-nav__link">
        Complementary
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Complementary/Configuration-File/" class="md-nav__link">
        Configuration File
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_4" >
      
      
      
        <label class="md-nav__link" for="__nav_1_4" id="__nav_1_4_label" tabindex="0">
          zk Tooling
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_1_4">
          <span class="md-nav__icon md-icon"></span>
          zk Tooling
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_4_1" >
      
      
      
        <label class="md-nav__link" for="__nav_1_4_1" id="__nav_1_4_1_label" tabindex="0">
          zkASM
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_1_4_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_1_4_1">
          <span class="md-nav__icon md-icon"></span>
          zkASM
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../zk-Tooling/zkASM/Introduction/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../zk-Tooling/zkASM/Basic-Syntax/" class="md-nav__link">
        Basic Syntax
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../zk-Tooling/zkASM/Some-Examples/" class="md-nav__link">
        Some Examples
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../zk-Tooling/zkASM/Related-Repos/" class="md-nav__link">
        Related Repositories
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_4_2" >
      
      
      
        <label class="md-nav__link" for="__nav_1_4_2" id="__nav_1_4_2_label" tabindex="0">
          PIL
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_1_4_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_1_4_2">
          <span class="md-nav__icon md-icon"></span>
          PIL
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../zk-Tooling/PIL/Introduction/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../zk-Tooling/PIL/Hello-World-Examples/" class="md-nav__link">
        Hello Word Examples
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../zk-Tooling/PIL/Components/" class="md-nav__link">
        Components
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../zk-Tooling/PIL/Cyclical-Nature/" class="md-nav__link">
        Cyclical Nature
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../zk-Tooling/PIL/Modularity/" class="md-nav__link">
        Modularity
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../zk-Tooling/PIL/Advanced-Features/" class="md-nav__link">
        Advanced Features
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../zk-Tooling/PIL/Related-Repos/" class="md-nav__link">
        Related Repositories
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_5" >
      
      
      
        <label class="md-nav__link" for="__nav_1_5" id="__nav_1_5_label" tabindex="0">
          zkEVM Implementation How To(s)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_1_5">
          <span class="md-nav__icon md-icon"></span>
          zkEVM Implementation How To(s)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../Building-on-Polygon-zkEVM-H_io/" class="md-nav__link">
        Building on Polygon zkEVM
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../How-To-Run-A-zkNode/" class="md-nav__link">
        How To Run A Local zkNode
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../Setting-Up-Production-zkNode/" class="md-nav__link">
        Setting Up Production zkNode
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../Polygon-zkEVM-Source-Code/" class="md-nav__link">
        Polygon zkEVM Source Code
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../references/" class="md-nav__link">
        References
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Hermez 1.0
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Hermez 1.0
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
      
      
      
        <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
          About
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_1">
          <span class="md-nav__icon md-icon"></span>
          About
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../Hermez_1.0/about/scalability/" class="md-nav__link">
        Ethereum Scalability and zk-Rollups
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../Hermez_1.0/about/value-proposition/" class="md-nav__link">
        Hermez Value Proposition
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../Hermez_1.0/about/model/" class="md-nav__link">
        Hermez Network Model
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../Hermez_1.0/about/security/" class="md-nav__link">
        Security
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
          Users
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Users
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../Hermez_1.0/users/hermez-wallet/" class="md-nav__link">
        Hermez Wallet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../Hermez_1.0/users/mainnet/" class="md-nav__link">
        Hermez Mainnet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../Hermez_1.0/users/testnet/" class="md-nav__link">
        Hermez Testnet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../Hermez_1.0/users/exchanges/" class="md-nav__link">
        Exchanges
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
      
      
      
        <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
          Developers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          Developers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../Hermez_1.0/developers/dev-guide/" class="md-nav__link">
        Developer Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2_3_2" id="__nav_2_3_2_label" tabindex="0">
          Protocol
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_3_2">
          <span class="md-nav__icon md-icon"></span>
          Protocol
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_2_1" >
      
      
      
        <label class="md-nav__link" for="__nav_2_3_2_1" id="__nav_2_3_2_1_label" tabindex="0">
          Hermez zkRollup protocol
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_3_2_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_3_2_1">
          <span class="md-nav__icon md-icon"></span>
          Hermez zkRollup protocol
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../Hermez_1.0/developers/protocol/hermez-protocol/protocol/" class="md-nav__link">
        Core protocol
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../Hermez_1.0/developers/protocol/hermez-protocol/contracts/contracts/" class="md-nav__link">
        Smart contracts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../Hermez_1.0/developers/protocol/hermez-protocol/circuits/circuits/" class="md-nav__link">
        Circuits
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../Hermez_1.0/developers/protocol/consensus/consensus/" class="md-nav__link">
        Forging consensus protocol
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../Hermez_1.0/developers/protocol/withdrawal-delayer/withdrawal-delayer/" class="md-nav__link">
        Withdrawal delayer protocol
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../Hermez_1.0/developers/sdk/" class="md-nav__link">
        Examples/SDK
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../Hermez_1.0/developers/api/" class="md-nav__link">
        API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../Hermez_1.0/developers/batch-explorer/" class="md-nav__link">
        Batch Explorer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../Hermez_1.0/developers/price-updater/" class="md-nav__link">
        Hermez NodePrice Updater
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../Hermez_1.0/developers/glossary/" class="md-nav__link">
        Glossary
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
      
      
      
        <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
          FAQ
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_4">
          <span class="md-nav__icon md-icon"></span>
          FAQ
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../Hermez_1.0/faq/end-users/" class="md-nav__link">
        End-Users
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../Hermez_1.0/faq/integrators/" class="md-nav__link">
        Integrators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../Hermez_1.0/faq/coordinators/" class="md-nav__link">
        Coordinators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../Hermez_1.0/faq/pod/" class="md-nav__link">
        Proof of Donation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../Hermez_1.0/faq/other/" class="md-nav__link">
        Other
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#design-strategies" class="md-nav__link">
    Design strategies
  </a>
  
    <nav class="md-nav" aria-label="Design strategies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bytes-to-bits-correspondence" class="md-nav__link">
    Bytes To Bits Correspondence
  </a>
  
    <nav class="md-nav" aria-label="Bytes To Bits Correspondence">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-1-represention-of-two-bytes" class="md-nav__link">
    Example 1. (Represention of Two Bytes)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validating-transitions-of-bits" class="md-nav__link">
    Validating Transitions Of Bits
  </a>
  
    <nav class="md-nav" aria-label="Validating Transitions Of Bits">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#constraints-for-bit-transitions" class="md-nav__link">
    Constraints For Bit Transitions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#capacity-connection-in-the-512-rows" class="md-nav__link">
    Capacity Connection In The \(512\)-Rows
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-output-calculations-in-the-256-1-rows" class="md-nav__link">
    The Output Calculations In The \((256 + 1)\)-Rows
  </a>
  
    <nav class="md-nav" aria-label="The Output Calculations In The \((256 + 1)\)-Rows">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-2-storing-256-bit-intermediate-hash-outputs" class="md-nav__link">
    Example 2. (Storing 256-bit intermediate hash outputs)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#padding-kk-sm-and-padding-kk-bit-sm-connection" class="md-nav__link">
    Padding-KK SM and Padding-KK-Bit SM Connection
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  



<h1 id="padding-kk-bit-state-machine">Padding-KK-Bit State Machine</h1>
<p>The 136-byte output of the Padding-KK SM is the input to the KECCAK-f SM, but it must first be converted to bits. This is where the Padding-KK-Bit state machine comes in. One of the roles of the Padding-KK-Bit SM is therefore that of a two-way converter of bytes to bits. And thus stands as a facilitator between the Padding-KK SM which operates byte-wise, and the KECCAK-f SM which operates bit-wise.</p>
<p>Other than being a two-way bytes-to-bits converter, the Padding-KK-Bit SM is responsible for validating every operation related to inputs and outputs of the KECCAK-f permutation blocks.</p>
<h2 id="design-strategies">Design strategies</h2>
<p>Here's how this state machine facilitates operations between the Padding-KK SM and the KECCAK-f SM.</p>
<p>A block of 136 rows of bytes in the Padding-KK SM corresponds to <span class="arithmatex">\(\mathtt{1993}\)</span> rows in the Padding-KK-Bit SM. The picture below, displays the correspondence, also shows three subdivisions of the <span class="arithmatex">\(\mathtt{1993}\)</span> rows (corresponding to <span class="arithmatex">\(\mathtt{1224+512+256+1}\)</span>).</p>
<p><img alt="Figure 1: Padding-KK block vs. Padding-KK-Bit's 3 subdivisions" src="../figures/01kkb-chunk-divs-136-bytes.png" /></p>
<div align="center"><b>Figure 1: Padding-KK block vs. Padding-KK-Bit's 3 subdivisions </b></div>

<p>The <strong>first subdivision</strong> consists of <span class="arithmatex">\(\mathtt{9*136 = 1224}\)</span> rows, where each of the <span class="arithmatex">\(\mathtt{136}\)</span> byte-rows has been expanded into <span class="arithmatex">\(\mathtt{9}\)</span> rows (i.e., <span class="arithmatex">\(\mathtt{8}\)</span> rows for the <span class="arithmatex">\(\mathtt{8}\)</span> bits plus <span class="arithmatex">\(\mathtt{1}\)</span> row for the byte that represents the <span class="arithmatex">\(\mathtt{8}\)</span> bits). The decomposition of the bytes into the 8 bits (with an extra row, just for the byte), is done for easy implementation in PIL. How this is actually done is explained a little later. Observe that this subdivision of <span class="arithmatex">\(\mathtt{1224}\)</span> rows represents the bitrate of the KECCAK-f permutation. Therefore, a strategy to ensure that the bits are accurately and correctly provided, as input to the KECCAK-f SM, needs to be derived.</p>
<p>The <strong>second subdivision</strong> consists of the <span class="arithmatex">\(\mathtt{512}\)</span> rows, and represents the capacity input-bits in the <span class="arithmatex">\(\mathtt{1600}\)</span>-bit state of the KECCAK-f SM. Observe that, within the KECCAK-f state machine, unlike the bits in the first subdivision of <span class="arithmatex">\(\mathtt{1224}\)</span> rows, the capacity bits are not affected by any exterior bits.</p>
<p>The <strong>third subdivision</strong> of <span class="arithmatex">\(\mathtt{256 + 1}\)</span> rows represents the 256 bits of the intermediate hash value produced by the KECCAK-f permutation. At the end of hashing each 1088 bits (136-byte) string, this intermediate hash value actually coincides with the final hash of the KECCAK-256 hash function. Each hash value, the final digest, is packed into eight 32-bit registers at the final row of this subdivision.</p>
<h3 id="bytes-to-bits-correspondence">Bytes To Bits Correspondence</h3>
<p>Next is further elaboration on how the Padding-KK-Bit SM handles the correspondence of bytes between state machines, and correct positioning of bits with respect to powers of 2.</p>
<p>Starting with the first subdivision, the <span class="arithmatex">\(\mathtt{1224}\)</span> rows related with the bit decomposition of each byte, the following registers are utilised: </p>
<p>(a) The Padding-KK-Bit state machine has a column named <span class="arithmatex">\(\texttt{rBit}\)</span>, which records all the bits associated with the decomposition of each of the bytes of the previous state machine, the Padding-KK SM.</p>
<p>(b) In order to relate the byte to its bit decompsition between the two states machines, a register called <span class="arithmatex">\(\texttt{r8Id}\)</span> is added in both state machines as a <em>bit-to-parent-byte</em> identifier.</p>
<p>(c) Also, another register called <span class="arithmatex">\(\texttt{r8}\)</span>, is added for the sole purpose of sequentially constructing each byte from the bits.</p>
<p>(d) Similar to what was done in the Padding-KK SM, a factor register <span class="arithmatex">\(\texttt{Fr8}\)</span>, is used to correctly place each bit in the parent, with respect to powers of 2.</p>
<p>(e) Therefore, each complete byte is recorded at the last row of such a 9-row <strong>byte block</strong> of the <span class="arithmatex">\(\texttt{r8}\)</span> register. This row is flagged with a "1" in the same row of another register, called <span class="arithmatex">\(\texttt{latchR8}\)</span>. So that <span class="arithmatex">\(\texttt{latchR8}\)</span> is 0 in all rows except the last row of a 9-row byte block.</p>
<h4 id="example-1-represention-of-two-bytes">Example 1. (Represention of Two Bytes)</h4>
<p>Here's an example of how two bytes, <span class="arithmatex">\(\mathtt{0xa1}\)</span> and <span class="arithmatex">\(\mathtt{0xfe}\)</span>, from the Padding-KK SM look like in the Padding-KK-Bit SM. The horizontal lines mark the end of a byte block. </p>
<div align="center"><b> Table 1: Two Bytes Example from Padding-KK SM to Padding-KK-Bit SM  </b></div>

<p>$$
\begin{array}{|l|c|} \hline
\texttt{aFreeIn} &amp; \texttt{r8Id}\ \hline
\mathtt{0xa1} &amp; 1\ \hline
\mathtt{0xfe} &amp; 2\ \hline
\end{array}
\implies 
\begin{array}{|l|c|c|c|c|c|c|c|c|}
\hline
\texttt{rBit} &amp; \texttt{r8Id} &amp;\texttt{r8} &amp; \texttt{Fr8} &amp; \texttt{latchR8}\ \hline
1 &amp; 1 &amp; 0 &amp; 1 &amp; 0\ 
0 &amp; 1 &amp; \mathtt{0b1} &amp; 2 &amp; 0\ 
0 &amp; 1 &amp; \mathtt{0b01} &amp; 2^2 &amp; 0\ 
0 &amp; 1 &amp; \mathtt{0b001} &amp; 2^3 &amp; 0\ 
0 &amp; 1 &amp; \mathtt{0b0001} &amp; 2^4 &amp; 0\ 
1 &amp; 1 &amp; \mathtt{0b00001} &amp; 2^5 &amp; 0\ 
0 &amp; 1 &amp; \mathtt{0b100001} &amp; 2^6 &amp; 0\ 
1 &amp; 1 &amp; \mathtt{0b0100001} &amp; 2^7 &amp; 0\ 
\texttt{X} &amp; 1 &amp; \mathtt{0b10100001} &amp; 0 &amp; 1\ \hline
0 &amp; 2 &amp; 0 &amp; 1 &amp; 0\ 
1 &amp; 2 &amp; \mathtt{0b0} &amp; 2 &amp; 0\ 
1 &amp; 2 &amp; \mathtt{0b10} &amp; 2^2 &amp; 0\ 
1 &amp; 2 &amp; \mathtt{0b110} &amp; 2^3 &amp; 0\ 
1 &amp; 2 &amp; \mathtt{0b1110} &amp; 2^4 &amp; 0\ 
1 &amp; 2 &amp; \mathtt{0b11110} &amp; 2^5 &amp; 0\ 
1 &amp; 2 &amp; \mathtt{0b111110} &amp; 2^6 &amp; 0\ 
1 &amp; 2 &amp; \mathtt{0b1111110} &amp; 2^7 &amp; 0\ 
\texttt{X} &amp; 1 &amp; \mathtt{0b11111110} &amp; 0 &amp; 1\ \hline</p>
<p>\end{array}
$$</p>
<p>Observe that <span class="arithmatex">\(\texttt{latchR8}\)</span> is equal to 1 in the last row of each byte block, and this the same row where the corresponding complete byte is found in the <span class="arithmatex">\(\texttt{r8}\)</span> column.</p>
<p>Similarly to what was done in the Padding-KK state machine, the following constraint applies to the <span class="arithmatex">\(\texttt{r8}\)</span> column,
$$
\mathtt{r8'} \mathtt{ = r8\cdot(1−latchR8)+rBit·Fr8}
$$
Observe that it is very important for <span class="arithmatex">\(\mathtt{Fr8}\)</span> to be "<span class="arithmatex">\(0\)</span>" when <span class="arithmatex">\(\mathtt{latchR8}\)</span> is "<span class="arithmatex">\(1\)</span>". If this is not the case, then there is no guarantee that the <span class="arithmatex">\(\mathtt{r8}\)</span> register will reset to <span class="arithmatex">\(0\)</span> in the next block.</p>
<p>It is also necessary to ensure that <span class="arithmatex">\(\mathtt{rBit}\)</span> is binary, by using the next the constraint,
$$
\mathtt{rBit \cdot (1−rBit) = 0}
$$</p>
<h3 id="validating-transitions-of-bits">Validating Transitions Of Bits</h3>
<p>The focus has thus far been on solving the problem of decomposing bytes into bits. The idea here is to validate the transitions of the bits after the KECCAK-f operation, which is done for every block of 136 bytes. A few columns are introduced for this purpose.</p>
<p>(a) <span class="arithmatex">\(\mathtt{sInBit}\)</span>: This register stores the input bit of the current KECCAK-f permutation block.</p>
<p>(b) <span class="arithmatex">\(\mathtt{sOutBit}\)</span>: This register stores the output bit of the current KECCAK-f permutation block.</p>
<p>(c) <span class="arithmatex">\(\mathtt{connected}\)</span>: The same idea as in the Padding-KK state machine applies here. The <span class="arithmatex">\(\mathtt{connected}\)</span> register is constant within a block, and reflects that the output of the previous permutation KECCAK-f is connected to the current one. That is, it indicates that the previous 136-byte block belongs to the same string as the current block.</p>
<p>(d) <span class="arithmatex">\(\mathtt{latchSOut}\)</span>: This register records "<span class="arithmatex">\(1\)</span>" in the very last row of each of the <span class="arithmatex">\(\mathtt{1993}\)</span>-row block corresponding to a 136-byte block of the Padding-KK SM, and <span class="arithmatex">\(0\)</span> everywhere else.</p>
<p>Figure 2 below depicts a schema of how to relate the above columns with the KECCAK-f sponge construction.</p>
<p><img alt="Figure 2: A schema relating Padding-KK-Bit to KECCAK-f Sponge Construction" src="../figures/02kkb-pad-kk-bit-to-kk-f.png" /></p>
<div align="center"><b> Figure 2: A schema relating Padding-KK-Bit to Keccak-f Sponge Construction </b></div>

<h4 id="constraints-for-bit-transitions">Constraints For Bit Transitions</h4>
<p>Next are the constraints needed to ensure correct transition between rows.</p>
<p>Of course, there is a need to make sure the <span class="arithmatex">\(\mathtt{connected}\)</span> register is constant in each block. Hence, the following constraint should be added,
$$
\mathtt{connected′ \cdot (1 − latchSOut) = connected · (1 − latchSOut)} 
$$</p>
<p>Moreover, there is a need to test whether <span class="arithmatex">\(\mathtt{connected}\)</span> and <span class="arithmatex">\(\mathtt{sOutBit}\)</span> are binary. For these two checks, the following equations are used,
$$
\mathtt{connected \cdot (1 − connected) = 0},\ 
\mathtt{sOutBit \cdot (1 − sOutBit) = 0}\qquad\text{ } 
$$</p>
<p>The register <span class="arithmatex">\(\mathtt{sInBit}\)</span> is actually computed from <span class="arithmatex">\(\mathtt{sOutBit}\)</span>, <span class="arithmatex">\(\mathtt{connected}\)</span> and <span class="arithmatex">\(\mathtt{rBit}\)</span> columns. Recall that, at the first block of the sponge function, the input bits to the KECCAK-f permutation actually coincide with <span class="arithmatex">\(\mathtt{rBit}\)</span>. However, after the first block, an <span class="arithmatex">\(\text{XOR}\)</span> of <span class="arithmatex">\(\mathtt{sOutBit}\)</span> and <span class="arithmatex">\(\mathtt{rBit}\)</span> must be performed, as seen in Figure 2 above.</p>
<p>Henceforth, <span class="arithmatex">\(\mathtt{sInBit}\)</span> is computed, using an auxiliary register <span class="arithmatex">\(\mathtt{aux\_sInBit}\)</span> as follows,
$$
\mathtt{aux_sInBit = sOutBit − 2 \cdot sOutBit \cdot rBit,}\text{ }\text{ } \ 
\mathtt{sInBit = connected \cdot aux_sInBit + rBit }\qquad 
$$</p>
<p>A quick analysis of <span class="arithmatex">\(\mathbf{Eqn. 6}\)</span> shows the following,</p>
<p>(a) If <span class="arithmatex">\(\mathtt{connected}\)</span> is <span class="arithmatex">\(0\)</span>, then <span class="arithmatex">\(\mathtt{sInBit}\)</span> equals <span class="arithmatex">\(\texttt{rBit}\)</span>, which is precisely what needs to happen in the first KECCAK-f permutation block.</p>
<p>(b) But if <span class="arithmatex">\(\mathtt{connected}\)</span> is <span class="arithmatex">\(1\)</span>, then <span class="arithmatex">\(\mathtt{sInBit}\)</span> equals <span class="arithmatex">\(\mathtt{sOutBit − 2 \cdot sOutBit \cdot rBit + rBit}\)</span>, which is actually the <span class="arithmatex">\(\text{XOR}\)</span> of <span class="arithmatex">\(\mathtt{sOutBit}\)</span> and <span class="arithmatex">\(\mathtt{rBit}\)</span>.</p>
<p>Table 2 shows all the cases of the above computation.</p>
<div align="center"><b> Table 2: Illustration of Equation 5 </b></div>

<div class="arithmatex">\[
\begin{array}{|l|c|c|c|c|c|c|c|c|}
\hline
\texttt{connected} &amp; \texttt{sOutBit} &amp;\texttt{rBit} &amp; \texttt{sInBit} \\ \hline
\text{}\text{}\qquad 0 &amp; 0 &amp; 0 &amp; 0\\
\text{}\text{}\qquad 0 &amp; 0 &amp; 1 &amp; 1\\
\text{}\text{}\qquad 0 &amp; 1 &amp; 0 &amp; 0\\
\text{}\text{}\qquad 0 &amp; 1 &amp; 1 &amp; 1\\
\text{}\text{}\qquad 1 &amp; 0 &amp; 0 &amp; 0\\
\text{}\text{}\qquad 1 &amp; 0 &amp; 1 &amp; 1\\
\text{}\text{}\qquad 1 &amp; 1 &amp; 0 &amp; 1\\
\text{}\text{}\qquad 1 &amp; 1 &amp; 1 &amp; 0\\
\hline
\end{array}
\]</div>
<h3 id="capacity-connection-in-the-512-rows">Capacity Connection In The <span class="arithmatex">\(512\)</span>-Rows</h3>
<p>The second subdivision of the Padding-KK-Bit SM's <span class="arithmatex">\(\mathtt{1993}\)</span>-row block consists of the <span class="arithmatex">\(\mathtt{512}\)</span> rows, corresponding to KECCAK-f SM's capacity bits. There is a need make certain these capacity bits (the middle subdivision of each <span class="arithmatex">\(\mathtt{1993}\)</span>-row block) are not affected by any exterior bit.</p>
<p>First, a new register called <span class="arithmatex">\(\mathtt{rBitValid}\)</span> is added, and it is defined such that it records <span class="arithmatex">\(1\)</span> in each of the rows corresponding to the capacity bits, and <span class="arithmatex">\(0\)</span> everywhere else. Hence, the following relationship is added.
$$
\mathtt{(1 − rBitValid) \cdot rBit = 0} 
$$</p>
<p>This ensures that, in each <span class="arithmatex">\(1993\)</span>-row block, <span class="arithmatex">\(\mathtt{rBit}\)</span> is <span class="arithmatex">\(0\)</span> everywhere in the rows corresponding to the capacity bits. This results in <span class="arithmatex">\(\text{XOR}\)</span>ing <span class="arithmatex">\(\mathtt{sOutBit}\)</span> with a <span class="arithmatex">\(0\)</span>. And thus, for the rows corresponding to the capacity bits, computing <span class="arithmatex">\(\mathtt{sInBit = sOutBit \bigoplus rBit}\)</span> as seen in Figure 2, amounts to <span class="arithmatex">\(\mathtt{sInBit = sOutBit}\)</span>. Therefore, <span class="arithmatex">\(\mathbf{Eqn. 8}\)</span> guarantees that the capacity bits are not modified by any exterior bits.</p>
<h3 id="the-output-calculations-in-the-256-1-rows">The Output Calculations In The <span class="arithmatex">\((256 + 1)\)</span>-Rows</h3>
<p>Now, the last part of the Padding-KK-Bit SM is to keep track of the last subdivision of each <span class="arithmatex">\(1993\)</span>-row block. Recall that this third subdivision consists of <span class="arithmatex">\(256 + 1\)</span> rows, and it is in charge of storing each bit of the intermediate hashes of the KECCAK-f permutation blocks. The <span class="arithmatex">\(256\)</span> bits of the KECCAK-f permutation output are sequentially and cumulatively stored in eight 32-bit registers <span class="arithmatex">\(\{\mathtt{sOut_i}|\ 0 \leq i \leq 7 \}\)</span>. In a similar method used for the read operations in the Padding-KK SM, eight (8) factor columns <span class="arithmatex">\(\{\mathtt{FSOut_i} |\ 0 \leq i \leq 7\}\)</span> are used to ensure correct positioning (of each of the <span class="arithmatex">\(32\)</span> bits in <span class="arithmatex">\(\mathtt{sOut_i}\)</span>) with respect to powers of <span class="arithmatex">\(2\)</span>.</p>
<h4 id="example-2-storing-256-bit-intermediate-hash-outputs">Example 2. (Storing 256-bit intermediate hash outputs)</h4>
<p>Consider the 256 bits, <span class="arithmatex">\(\mathtt{0b|10110011\dots1010|\dots|11\dots11|01\dots10101101|}\)</span>, where "<span class="arithmatex">\(|\)</span>" separates every set of 32 bits. Table 3 below, displays how the <span class="arithmatex">\(256 + 1\)</span> rows of a <span class="arithmatex">\(1993\)</span>-block are stored in the registers <span class="arithmatex">\(\{\mathtt{sOut_i}|\ 0 \leq i \leq 7 \}\)</span>.</p>
<div align="center"><b> Table 3: The (256+1)-row 3rd subdivision of a 1993-row block </b></div>

<p>$$
\small
\begin{array}{|l|c|c|c|c|c|c|c|c|c|c|c|}
\hline
\texttt{sOutBit} &amp; \mathtt{sOut_0} &amp; \mathtt{sOut_1} &amp; \mathtt{\dots} &amp; \mathtt{sOut_7} &amp; \mathtt{FSOut_0} &amp; \mathtt{FSOut_1} &amp; \mathtt{\dots}  &amp; \mathtt{FSOut_7} &amp; \mathtt{latchSOut}\ \hline
\text{ }\text{ }\text{ }\text{ } \dots &amp; \dots  &amp; \dots &amp; \dots &amp; \dots &amp; \dots &amp; \dots &amp; \dots &amp; \dots &amp; \dots\ \hline
\quad\text{ }\text{ } 1 &amp; \mathtt{0b1} &amp; \mathtt{0b0} &amp; \dots &amp; \mathtt{0b0} &amp; 1 &amp; 0&amp; \dots &amp; 0 &amp; 0\ 
\quad\text{ }\text{ }0 &amp; \mathtt{0b01} &amp; \mathtt{0b0} &amp; \dots &amp; \mathtt{0b0} &amp; 2 &amp; 0&amp; \dots &amp; 0 &amp; 0 \ 
\quad\text{ }\text{ }1 &amp; \mathtt{0b101} &amp; \mathtt{0b0} &amp; \dots &amp; \mathtt{0b0} &amp; 2^2 &amp; 0&amp;  \dots &amp; 0 &amp; 0\ 
\quad\text{ }\text{ }1 &amp; \mathtt{0b1101} &amp; \mathtt{0b0} &amp; \dots &amp; \mathtt{0b0} &amp; 2^3 &amp; 0&amp; \dots &amp; 0 &amp; 0\ 
\quad\text{ }\text{ }0 &amp; \mathtt{0b01101} &amp; \mathtt{0b0} &amp; \dots &amp; \mathtt{0b0} &amp; 2^6 &amp; 0&amp; \dots &amp; 0 &amp; 0\ 
\quad\text{ }\text{ }1 &amp; \mathtt{0b101101} &amp; \mathtt{0b0} &amp; \dots &amp; \mathtt{0b0} &amp; 2^6 &amp; 0&amp; \dots &amp; 0 &amp; 0\ 
\quad\text{ }\text{ }0 &amp; \mathtt{0b0101101} &amp; \mathtt{0b0} &amp; \dots &amp; \mathtt{0b0} &amp; 2^6 &amp; 0&amp; \dots &amp; 0 &amp; 0\ 
\quad\text{ }\text{ }1 &amp; \mathtt{0b10101101} &amp; \mathtt{0b0} &amp; \dots &amp; \mathtt{0b0} &amp; 2^7 &amp; 0&amp; \dots &amp; 0 &amp; 0\</p>
<p>\text{ }\text{ }\text{ }\text{ } \dots &amp; \dots &amp; \dots &amp;  \dots &amp; \dots &amp; \dots &amp; \dots &amp; \dots &amp; \dots &amp; \dots\</p>
<p>\quad\text{ }\text{ }1 &amp; \mathtt{0b1\dots10101101} &amp; \mathtt{0b0} &amp; \dots &amp; \mathtt{0b0} &amp; 2^{30} &amp; 0 &amp; \dots &amp; 0 &amp; 0\ 
\quad\text{ }\text{ }0 &amp; \mathtt{0b01\dots10101101} &amp; \mathtt{0b0} &amp; \dots &amp; \mathtt{0b0} &amp; 2^{31} &amp; 0 &amp; \dots &amp; 0 &amp; 0\
\hline
\quad\text{ }\text{ }1 &amp; \mathtt{0b01\dots10101101} &amp; \mathtt{0b1} &amp; \dots &amp; \mathtt{0b0} &amp; 0 &amp; 1 &amp; \dots &amp; 0 &amp; 0 \
\quad\text{ }\text{ }1 &amp; \mathtt{0b01\dots10101101} &amp; \mathtt{0b11} &amp; \dots &amp; \mathtt{0b0} &amp; 0 &amp; 2 &amp; \dots &amp; 0 &amp; 0 \
\text{ }\text{ }\text{ }\text{ } \dots &amp; \dots &amp; \dots &amp; \dots&amp; \dots &amp; \dots &amp; \dots &amp; \dots &amp; \dots &amp; \dots \
\quad\text{ }\text{ }1 &amp; \mathtt{0b01\dots10101101} &amp; \mathtt{0b1\dots 11} &amp; \dots &amp; \mathtt{0b0} &amp; 0 &amp; 2^{30} &amp; \dots &amp; 0 &amp; 0\
\quad\text{ }\text{ }1 &amp; \mathtt{0b01\dots10101101} &amp; \mathtt{0b11\dots 11} &amp; \dots &amp; \mathtt{0b0} &amp; 0 &amp; 2^{31} &amp; \dots &amp; 0 &amp; 0\
\hline
\text{ }\text{ }\text{ }\text{ } \dots &amp; \dots &amp; \dots &amp; \dots &amp; \dots &amp; \dots &amp; \dots &amp; \dots &amp; \dots &amp; \dots\
\text{ }\text{ }\text{ }\text{ } \dots &amp; \dots &amp; \dots &amp; \dots &amp; \dots &amp; \dots &amp; \dots &amp; \dots &amp; \dots &amp; \dots\
\hline
\quad\text{ }\text{ }0 &amp; \mathtt{0b01\dots10101101} &amp; \mathtt{0b11\dots 11} &amp; \dots &amp; \mathtt{0b0} &amp; 0 &amp; 0 &amp; \dots &amp; 1 &amp; 0\
\quad\text{ }\text{ }1 &amp; \mathtt{0b01\dots10101101} &amp; \mathtt{0b11\dots 11} &amp; \dots &amp; \mathtt{0b10} &amp; 0 &amp; 0 &amp; \dots &amp; 2 &amp; 0\
\quad\text{ }\text{ }0 &amp; \mathtt{0b01\dots10101101} &amp; \mathtt{0b11\dots 11} &amp; \dots &amp; \mathtt{0b010} &amp; 0 &amp; 0 &amp;  \dots &amp; 2^2 &amp; 0\
\quad\text{ }\text{ }1 &amp; \mathtt{0b01\dots10101101} &amp; \mathtt{0b11\dots 11} &amp; \dots &amp; \mathtt{0b1010} &amp; 0 &amp; 0 &amp;   \dots &amp; 2^3 &amp; 0\
\text{ }\text{ }\text{ }\text{ } \dots &amp; \dots &amp; \dots &amp; \dots &amp; \dots &amp; \dots &amp; \dots &amp; \dots &amp; \dots &amp; \dots\
\quad\text{ }\text{ }0 &amp; \mathtt{0b01\dots10101101} &amp; \mathtt{0b11\dots 11} &amp; \dots &amp; \mathtt{0b0110011\dots 1010} &amp; 0 &amp; 0 &amp; \dots &amp; 2^{30} &amp; 0\ 
\quad\text{ }\text{ }1 &amp; \mathtt{0b01\dots10101101} &amp; \mathtt{0b11\dots 11} &amp; \dots &amp; \mathtt{0b10110011\dots 1010} &amp; 0 &amp; 0 &amp; \dots &amp; 2^{31} &amp; 1\ \hline</p>
<p>\end{array}
$$</p>
<p>Observe how factors <span class="arithmatex">\(\{\mathtt{FSOut_i} |\ 0 \leq i \leq 7\}\)</span>, in the above table, are used to construct the <span class="arithmatex">\(32\)</span>-bit registers <span class="arithmatex">\(\{\mathtt{sOut_i}|\ 0 \leq \mathtt{i} \leq 7 \}\)</span>. Notice also that the last row contains the complete set of the <span class="arithmatex">\(256\)</span> bits. The relations that these columns fulfill are the following,
$$
\mathtt{sOut_i' = sOut_i \cdot (1 − latchSOut) + sOutBit \cdot FSOut_i } 
$$</p>
<p>where <span class="arithmatex">\(0\leq \mathtt{i} \leq 7\)</span>.</p>
<p>The <span class="arithmatex">\(\mathtt{latchSOut}\)</span> register ensures that <span class="arithmatex">\(\mathtt{sOutBit}\)</span> is not constrained at the very beginning of each <span class="arithmatex">\(1993\)</span>-block, but only until the third subdivision is reached, where the <span class="arithmatex">\(\mathtt{FSOut_i}\)</span> begin to attain non-zero values.</p>
<p>This concludes our design for creating a state machine for bits, the Padding-KK-Bit SM. What is left to be done is to connect both states machines and, of course, be able to check the validity of the last hash. See next subsection for an explanation this connection.</p>
<h2 id="padding-kk-sm-and-padding-kk-bit-sm-connection">Padding-KK SM and Padding-KK-Bit SM Connection</h2>
<p>What follows is a description of how these two state machines, the Padding-KK SM and the Padding-KK-Bit SM, connect via Plookup. </p>
<p>First of all, observe that there's a need to check whether the bytes received in one state machine are the same as those in the other. Also, corresponding sequential order of these bytes should be checked. The identifier register <span class="arithmatex">\(\mathtt{r8Id}\)</span> is added in both states machines for the very reason. In addition, each byte should have the same value in <span class="arithmatex">\(\mathtt{connected}\)</span> register. Hence, the following Plookup is added in the Padding-KK state machine,</p>
<div align="center"><b> PIL Code : Plookup for checking byte correspondence ... </b></div>

<div class="arithmatex">\[
\hline
\begin{aligned}
\mathtt{r8valid} &amp; \text{ } \{ &amp; \text{} \\
\text{ } &amp;\texttt{aFreeIn} ,\\
&amp;\texttt{r8Id} ,\\
&amp;\texttt{connected}\\
\}\\
\text{ } \mathtt{in}\text{ }
\text{ }\\
\{  \\
&amp;\mathtt{PaddingKKBit.r8,} \\
&amp;\mathtt{PaddingKKBit.r8Id,}\\
&amp;\mathtt{PaddingKKBit.connected}\\
 \text{ }\text{ } 
\};\text{ }\\ \hline 
\end{aligned}
\]</div>
<p>The Padding KK state machine has the <span class="arithmatex">\(\{\mathtt{hash_i}\}\)</span> registers while the Padding KK Bit state machine has the <span class="arithmatex">\(\{\mathtt{sOut_i}\}\)</span> registers, which must be related at some point during the execution. Yet, up this point, the order of the hashes has not been checked in any way. Hence, as previously done, an <span class="arithmatex">\(\mathtt{sOutId}\)</span> register is added in both machines in order to identify each of these hashes. </p>
<p>In particular, <span class="arithmatex">\(\mathtt{sOutId}\)</span> is an increasing sequence of integers which increases by one at each processed block. That is, in the Padding-KK state machine, <span class="arithmatex">\(\mathtt{sOutId}\)</span> increases by one in each block of <span class="arithmatex">\(136\)</span> rows, whilst in the Padding-KK-Bit state machine, it increases by one in each block of <span class="arithmatex">\(1993\)</span> rows. (This is because a single block of <span class="arithmatex">\(136\)</span> rows in the Padding-KK SM corresponds to a single block of <span class="arithmatex">\(1993\)</span> rows in the Padding-KK-Bit SM.)</p>
<p>Hence, the following Plookup is added.</p>
<div align="center"><b> PIL Code : Plookup for checking correspondence of hash values </b></div>

<div class="arithmatex">\[
\hline
\begin{aligned}
\mathtt{lastHashLatch} &amp; \text{ } \{ &amp; \text{} \\
\text{} &amp;\texttt{hash0,
hash1, hash2,
hash3, } \\
&amp;\texttt{hash4,
hash5, hash6,
hash7,
\quad } \\
&amp;\texttt{sOutId}\\
\} \\
\text{ } \mathtt{in}\text{ }
\text{ }\\
\{  \\
&amp;\mathtt{PaddingKKBit.sOut0, PaddingKKBit.sOut1,} \\
&amp;\mathtt{PaddingKKBit.sOut2, PaddingKKBit.sOut3,}\\
&amp;\mathtt{PaddingKKBit.sOut4, PaddingKKBit.sOut5,}\\
&amp;\mathtt{PaddingKKBit.sOut6, PaddingKKBit.sOut7,}\\
&amp;\mathtt{ PaddingKKBit.sOutId}\\
 \text{ }\text{ } 
\};\quad\text{}\text{}\\ \hline 
\end{aligned}
\]</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://t.me/polygonhermez" target="_blank" rel="noopener" title="t.me" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M248 8C111.033 8 0 119.033 0 256s111.033 248 248 248 248-111.033 248-248S384.967 8 248 8Zm114.952 168.66c-3.732 39.215-19.881 134.378-28.1 178.3-3.476 18.584-10.322 24.816-16.948 25.425-14.4 1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25 5.342-39.5 3.652-3.793 67.107-61.51 68.335-66.746.153-.655.3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283.746-104.608 69.142-14.845 10.194-26.894 9.934c-8.855-.191-25.888-5.006-38.551-9.123-15.531-5.048-27.875-7.717-26.8-16.291q.84-6.7 18.45-13.7 108.446-47.248 144.628-62.3c68.872-28.647 83.183-33.623 92.511-33.789 2.052-.034 6.639.474 9.61 2.885a10.452 10.452 0 0 1 3.53 6.716 43.765 43.765 0 0 1 .417 9.769Z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/hermeznetwork/zkevmdoc" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://hermez.io/" target="_blank" rel="noopener" title="hermez.io" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 3.75C0 2.784.784 2 1.75 2h20.5c.966 0 1.75.784 1.75 1.75v16.5A1.75 1.75 0 0 1 22.25 22H1.75A1.75 1.75 0 0 1 0 20.25ZM22.5 7h-21v13.25c0 .138.112.25.25.25h20.5a.25.25 0 0 0 .25-.25Zm-10-3.5v2h10V3.75a.25.25 0 0 0-.25-.25ZM7 3.5v2h4v-2Zm-5.25 0a.25.25 0 0 0-.25.25V5.5h4v-2Z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../../../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.tracking"], "search": "../../../../../../assets/javascripts/workers/search.db81ec45.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../../../assets/javascripts/bundle.6df46069.min.js"></script>
      
        <script src="../../../../../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>